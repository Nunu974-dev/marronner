<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tarification & Frais ‚Äì Marronner</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/chatbot.css">
  <link rel="icon" href="img/favicon.png">
  <style>
    .pricing-hero {
      background: linear-gradient(135deg, #1E3A8A, #2563EB);
      color: white;
      text-align: center;
      padding: 100px 20px 60px;
      margin-top: 70px;
    }

    .pricing-hero h1 {
      font-size: 2.8em;
      margin-bottom: 15px;
    }

    .pricing-hero p {
      font-size: 1.2em;
      opacity: 0.9;
      max-width: 700px;
      margin: 0 auto;
    }

    .pricing-content {
      max-width: 1100px;
      margin: 60px auto;
      padding: 0 20px;
    }

    .pricing-section {
      background: white;
      border-radius: 15px;
      padding: 40px;
      margin-bottom: 30px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    }

    .pricing-section h2 {
      color: var(--primary);
      margin-top: 0;
      font-size: 2em;
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .fees-table {
      width: 100%;
      border-collapse: collapse;
      margin: 30px 0;
      background: white;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    }

    .fees-table thead {
      background: linear-gradient(135deg, #1E3A8A, #2563EB);
      color: white;
    }

    .fees-table th {
      padding: 18px;
      text-align: left;
      font-weight: 600;
      font-size: 1.05em;
    }

    .fees-table td {
      padding: 18px;
      border-bottom: 1px solid #e2e8f0;
    }

    .fees-table tbody tr:hover {
      background: #f8fafc;
    }

    .fees-table tbody tr:last-child td {
      border-bottom: none;
    }

    .highlight-box {
      background: #eff6ff;
      border-left: 4px solid var(--primary);
      padding: 20px;
      margin: 25px 0;
      border-radius: 0 10px 10px 0;
    }

    .highlight-box h3 {
      margin-top: 0;
      color: var(--primary);
    }

    .calculator-box {
      background: linear-gradient(135deg, #f8fafc, #e2e8f0);
      border-radius: 15px;
      padding: 30px;
      margin: 30px 0;
    }

    .calculator-box h3 {
      margin-top: 0;
      color: var(--primary);
      font-size: 1.5em;
    }

    .calc-input-group {
      margin: 20px 0;
    }

    .calc-input-group label {
      display: block;
      font-weight: 600;
      margin-bottom: 8px;
      color: #1e293b;
    }

    .calc-input-group input {
      width: 100%;
      padding: 12px;
      border: 2px solid #cbd5e1;
      border-radius: 8px;
      font-size: 1.1em;
      transition: all 0.3s ease;
    }

    .calc-input-group input:focus {
      border-color: var(--primary);
      outline: none;
      box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
    }

    .calc-result {
      background: white;
      border-radius: 10px;
      padding: 25px;
      margin-top: 25px;
    }

    .calc-result-line {
      display: flex;
      justify-content: space-between;
      padding: 12px 0;
      border-bottom: 1px solid #e2e8f0;
    }

    .calc-result-line.total {
      font-size: 1.4em;
      font-weight: 700;
      color: var(--primary);
      border-top: 3px solid var(--primary);
      border-bottom: none;
      margin-top: 10px;
      padding-top: 15px;
    }

    .benefits-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 25px;
      margin: 30px 0;
    }

    .benefit-card {
      background: white;
      border: 2px solid #e2e8f0;
      border-radius: 12px;
      padding: 25px;
      transition: all 0.3s ease;
    }

    .benefit-card:hover {
      border-color: var(--primary);
      transform: translateY(-5px);
      box-shadow: 0 8px 25px rgba(37, 99, 235, 0.15);
    }

    .benefit-card .icon {
      font-size: 2.5em;
      margin-bottom: 15px;
    }

    .benefit-card h3 {
      color: var(--primary);
      margin: 10px 0;
    }

    .business-subscription {
      background: linear-gradient(135deg, #fbbf24, #f59e0b);
      color: white;
      border-radius: 15px;
      padding: 40px;
      margin: 40px 0;
      text-align: center;
    }

    .business-subscription h2 {
      margin-top: 0;
      font-size: 2.2em;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 15px;
    }

    .business-subscription .price {
      font-size: 3em;
      font-weight: 700;
      margin: 20px 0;
    }

    .business-subscription ul {
      text-align: left;
      max-width: 600px;
      margin: 30px auto;
      list-style: none;
      padding: 0;
    }

    .business-subscription li {
      padding: 10px 0;
      padding-left: 35px;
      position: relative;
    }

    .business-subscription li:before {
      content: "‚úì";
      position: absolute;
      left: 0;
      font-size: 1.5em;
      font-weight: bold;
    }

    .cta-button {
      display: inline-block;
      padding: 15px 40px;
      background: white;
      color: #f59e0b;
      border-radius: 10px;
      font-size: 1.2em;
      font-weight: 600;
      text-decoration: none;
      transition: all 0.3s ease;
    }

    .cta-button:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
    }

    @media (max-width: 768px) {
      .pricing-hero h1 {
        font-size: 2em;
      }

      .pricing-section {
        padding: 25px;
      }

      .fees-table {
        font-size: 0.9em;
      }

      .fees-table th,
      .fees-table td {
        padding: 12px 8px;
      }
    }
  </style>
</head>
<body>

  <!-- HEADER -->
  <header>
    <div class="navbar container">
      <div class="logo"><a href="index.html" style="text-decoration:none;color:inherit;">Marronner</a></div>
      <button id="burgerMenu" class="burger-menu" aria-label="Menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <nav class="menu" id="mainMenu">
        <a href="categories.html">Cat√©gories</a>
        <a href="publier-demande.html">Publier une demande</a>
        <a href="demandes.html">Demandes ouvertes</a>
        <a href="connexion.html" class="auth-link logged-out">Connexion</a>
        <a href="inscription.html" class="cta auth-link logged-out">S'inscrire</a>
        <a href="tableau-de-bord.html" class="auth-link logged-in" id="userProfileLink" style="display: none;">üë§ <span id="userTypeDisplay">Profil</span></a>
      </nav>
    </div>
  </header>

  <!-- HERO -->
  <div class="pricing-hero">
    <h1>üí∞ Tarification transparente</h1>
    <p>D√©couvre tous les frais appliqu√©s sur Marronner. Aucun co√ªt cach√©, tout est clair !</p>
  </div>

  <!-- CONTENU -->
  <div class="pricing-content">
    
    <!-- Tableau des frais -->
    <div class="pricing-section">
      <h2>üìä Bar√®me des frais de service</h2>
      <p>Les frais suivants sont appliqu√©s aux chercheurs pour garantir la qualit√© et la s√©curit√© de la plateforme :</p>

      <table class="fees-table">
        <thead>
          <tr>
            <th>Type de frais</th>
            <th>Condition</th>
            <th>Tarif</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>Frais service commande</strong></td>
            <td>Montant < 50 ‚Ç¨</td>
            <td><strong>+2,00 ‚Ç¨</strong> (forfait)</td>
          </tr>
          <tr>
            <td><strong>Frais service commande</strong></td>
            <td>Montant ‚â• 50 ‚Ç¨</td>
            <td><strong>+5,5%</strong> du montant</td>
          </tr>
          <tr>
            <td><strong>Frais sur pourboires</strong></td>
            <td>Si pourboire donn√©</td>
            <td><strong>5,5%</strong> du pourboire</td>
          </tr>
          <tr>
            <td><strong>Frais sur options/extras</strong></td>
            <td>Option < 50 ‚Ç¨</td>
            <td><strong>+2,00 ‚Ç¨</strong> (forfait)</td>
          </tr>
          <tr>
            <td><strong>Frais sur options/extras</strong></td>
            <td>Option ‚â• 50 ‚Ç¨</td>
            <td><strong>+5,5%</strong> du montant</td>
          </tr>
          <tr>
            <td><strong>TVA</strong></td>
            <td>Sur les frais uniquement</td>
            <td><strong>8,5%</strong> (La R√©union)</td>
          </tr>
          <tr>
            <td><strong>Abonnement Business</strong></td>
            <td>Optionnel</td>
            <td><strong>149 ‚Ç¨/an</strong></td>
          </tr>
        </tbody>
      </table>

      <div class="highlight-box">
        <h3>üí° Important √† savoir</h3>
        <ul>
          <li><strong>Le marronneur re√ßoit 100% du montant convenu</strong> (commande + options + pourboire)</li>
          <li>Les frais de service sont <strong>uniquement √† la charge du chercheur</strong></li>
          <li>La TVA est calcul√©e <strong>uniquement sur les frais de service</strong>, pas sur le montant de la commande</li>
          <li>Les frais garantissent : s√©curit√© des paiements, support client, protection contre les litiges, outils de gestion</li>
        </ul>
      </div>
    </div>

    <!-- Calculateur -->
    <div class="pricing-section">
      <h2>üßÆ Calculateur de frais</h2>
      <p>Simule le co√ªt total de ta commande en temps r√©el :</p>

      <div class="calculator-box">
        <h3>Simulation de commande</h3>
        
        <div class="calc-input-group">
          <label for="calcOrder">Montant de la commande (‚Ç¨)</label>
          <input type="number" id="calcOrder" value="80" min="1" step="0.01" placeholder="Ex: 80">
        </div>

        <div class="calc-input-group">
          <label for="calcExtras">Options/extras (‚Ç¨)</label>
          <input type="number" id="calcExtras" value="0" min="0" step="0.01" placeholder="Ex: 20">
        </div>

        <div class="calc-input-group">
          <label for="calcTip">Pourboire (‚Ç¨)</label>
          <input type="number" id="calcTip" value="0" min="0" step="0.01" placeholder="Ex: 10">
        </div>

        <div class="calc-result">
          <div class="calc-result-line">
            <span>Montant commande</span>
            <span id="resultOrder">80,00 ‚Ç¨</span>
          </div>
          <div class="calc-result-line">
            <span>Options</span>
            <span id="resultExtras">0,00 ‚Ç¨</span>
          </div>
          <div class="calc-result-line">
            <span>Pourboire</span>
            <span id="resultTip">0,00 ‚Ç¨</span>
          </div>
          <div class="calc-result-line" style="font-weight: 600; margin-top: 10px; border-top: 2px solid #cbd5e1;">
            <span>Sous-total (re√ßu par le marronneur)</span>
            <span id="resultSubtotal">80,00 ‚Ç¨</span>
          </div>
          <div class="calc-result-line" style="color: #64748b;">
            <span>Frais de service</span>
            <span id="resultFees">4,40 ‚Ç¨</span>
          </div>
          <div class="calc-result-line" style="color: #64748b;">
            <span>TVA (8,5%)</span>
            <span id="resultVAT">0,37 ‚Ç¨</span>
          </div>
          <div class="calc-result-line total">
            <span>TOTAL √Ä PAYER</span>
            <span id="resultTotal">84,77 ‚Ç¨</span>
          </div>
        </div>

        <p style="text-align: center; color: #64748b; margin-top: 20px; font-size: 0.95em;">
          üíö Le marronneur recevra <strong id="resultMarronneur" style="color: #16a34a;">80,00 ‚Ç¨</strong>
        </p>
      </div>
    </div>

    <!-- Exemples concrets -->
    <div class="pricing-section">
      <h2>üìù Exemples concrets</h2>
      
      <div class="benefits-grid">
        <div class="benefit-card">
          <div class="icon">üé®</div>
          <h3>Logo simple - 35‚Ç¨</h3>
          <p><strong>Tu paies :</strong> 35‚Ç¨ + 2‚Ç¨ frais + 0,17‚Ç¨ TVA = <strong>37,17‚Ç¨</strong></p>
          <p style="color: #16a34a;">‚úì Le marronneur re√ßoit 35‚Ç¨</p>
        </div>

        <div class="benefit-card">
          <div class="icon">üíª</div>
          <h3>Site web - 800‚Ç¨</h3>
          <p><strong>Tu paies :</strong> 800‚Ç¨ + 44‚Ç¨ frais (5,5%) + 3,74‚Ç¨ TVA = <strong>847,74‚Ç¨</strong></p>
          <p style="color: #16a34a;">‚úì Le marronneur re√ßoit 800‚Ç¨</p>
        </div>

        <div class="benefit-card">
          <div class="icon">üì∏</div>
          <h3>Photos - 120‚Ç¨ + 20‚Ç¨ tip</h3>
          <p><strong>Tu paies :</strong> 140‚Ç¨ + 7,70‚Ç¨ frais + 0,65‚Ç¨ TVA = <strong>148,35‚Ç¨</strong></p>
          <p style="color: #16a34a;">‚úì Le marronneur re√ßoit 140‚Ç¨</p>
        </div>
      </div>
    </div>

    <!-- Abonnement Business -->
    <div class="business-subscription">
      <h2>üëî Marronner Business</h2>
      <div class="price">149‚Ç¨<span style="font-size: 0.4em;">/an</span></div>
      <p style="font-size: 1.1em;">Pour les entreprises et utilisateurs r√©guliers</p>
      
      <ul>
        <li>Acc√®s prioritaire aux marronneurs premium</li>
        <li>Support d√©di√© 24/7 par t√©l√©phone et email</li>
        <li>Facturation centralis√©e mensuelle</li>
        <li>Outils de gestion d'√©quipe avanc√©s</li>
        <li>Remises sur volumes (√† partir de 10 commandes/mois)</li>
        <li>Tableau de bord analytics complet</li>
        <li>Gestionnaire de compte personnel</li>
      </ul>

      <a href="inscription.html" class="cta-button">Essayer Business gratuitement</a>
      <p style="margin-top: 15px; font-size: 0.9em;">30 jours d'essai sans engagement</p>
    </div>

    <!-- Avantages -->
    <div class="pricing-section">
      <h2>‚ú® Ce que les frais incluent</h2>
      
      <div class="benefits-grid">
        <div class="benefit-card">
          <div class="icon">üîí</div>
          <h3>Paiement s√©curis√©</h3>
          <p>Transactions crypt√©es SSL. Ton argent est prot√©g√© jusqu'√† validation du travail.</p>
        </div>

        <div class="benefit-card">
          <div class="icon">üëÆ</div>
          <h3>Protection anti-litiges</h3>
          <p>M√©diation gratuite en cas de d√©saccord. Service client r√©actif pour r√©soudre les probl√®mes.</p>
        </div>

        <div class="benefit-card">
          <div class="icon">üí¨</div>
          <h3>Support client</h3>
          <p>√âquipe disponible par chat, email et t√©l√©phone pour t'accompagner.</p>
        </div>

        <div class="benefit-card">
          <div class="icon">üìä</div>
          <h3>Outils de gestion</h3>
          <p>Tableau de bord, messagerie int√©gr√©e, suivi des commandes, historique complet.</p>
        </div>

        <div class="benefit-card">
          <div class="icon">üèùÔ∏è</div>
          <h3>√âconomie locale</h3>
          <p>100% des talents sont r√©unionnais. Tu contribues √† l'√©conomie de l'√Æle.</p>
        </div>

        <div class="benefit-card">
          <div class="icon">‚öñÔ∏è</div>
          <h3>Conformit√© l√©gale</h3>
          <p>CGU claires, contrats automatiques, factures conformes, d√©clarations facilit√©es.</p>
        </div>
      </div>
    </div>

    <!-- CTA final -->
    <div class="pricing-section" style="text-align: center; background: linear-gradient(135deg, #eff6ff, #dbeafe);">
      <h2>üöÄ Pr√™t √† d√©marrer ?</h2>
      <p style="font-size: 1.1em; margin-bottom: 30px;">Rejoins des centaines de chercheurs satisfaits sur Marronner</p>
      <a href="publier-demande.html" class="cta-button" style="background: linear-gradient(135deg, #1E3A8A, #2563EB); color: white;">
        Publier ma premi√®re demande
      </a>
      <p style="margin-top: 20px; color: #64748b;">Inscription gratuite ‚Ä¢ Aucun engagement ‚Ä¢ Support inclus</p>
    </div>

  </div>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="container footer-container">
      <div class="footer-column">
        <h3>Marronner</h3>
        <p>La plateforme 100 % locale qui connecte talents et besoins √† La R√©union <img src="img/logo.jpg" alt="La R√©union" class="logo-inline">.<br>
        Trouve, propose et collabore en toute simplicit√©.</p>
      </div>

      <div class="footer-column">
        <h4>Navigation</h4>
        <ul>
          <li><a href="comment-ca-marche.html">Comment √ßa marche</a></li>
          <li><a href="faq.html">FAQ</a></li>
          <li><a href="categories.html">Cat√©gories</a></li>
          <li><a href="demandes.html">Derni√®res demandes</a></li>
        </ul>
      </div>

      <div class="footer-column">
        <h4>Pour les chercheurs</h4>
        <ul>
          <li><a href="publier-demande.html">Publier une demande</a></li>
          <li><a href="tarification.html">Tarification</a></li>
        </ul>
      </div>

      <div class="footer-column">
        <h4>Pour les marronneurs</h4>
        <ul>
          <li><a href="devenir-freelance.html">Devenir marronneur</a></li>
          <li><a href="categories.html">Voir les cat√©gories</a></li>
        </ul>
      </div>

      <div class="footer-column">
        <h4>L√©gal</h4>
        <ul>
          <li><a href="mentions-legales.html">Mentions l√©gales</a></li>
          <li><a href="confidentialite.html">Confidentialit√©</a></li>
          <li><a href="cgu.html">CGU</a></li>
        </ul>
      </div>
    </div>

    <div class="footer-bottom">
      <p>¬© 2025 Marronner ‚Äì Tous droits r√©serv√©s.</p>
      <p>Fait avec ‚ù§Ô∏è √† La R√©union <img src="img/logo.jpg" alt="La R√©union" class="logo-inline"></p>
    </div>
  </footer>

  <!-- CHATBOT IA -->
  <button id="chatbotButton" aria-label="Assistant virtuel">üí¨</button>
  
  <div id="chatbotPanel">
    <div class="chatbot-header">
      <h3>Assistant Marronner</h3>
      <button id="chatbotClose" aria-label="Fermer">√ó</button>
    </div>
    
    <div id="chatbotMessages"></div>
    
    <div id="chatbotSuggestions"></div>
    
    <div class="chatbot-input-area">
      <input type="text" id="chatbotInput" placeholder="Pose ta question...">
      <button id="chatbotSend" aria-label="Envoyer">‚û§</button>
    </div>
  </div>

  <script src="js/supabase-config.js"></script>
  <script src="js/auth.js"></script>
  <script src="js/service-fees.js"></script>
  <script src="js/main.js"></script>
  <script src="js/message-widget.js"></script>
  <script src="js/chatbot.js"></script>

  <script>
    // Calculateur en temps r√©el
    function updateCalculator() {
      const orderAmount = parseFloat(document.getElementById('calcOrder').value) || 0;
      const extrasAmount = parseFloat(document.getElementById('calcExtras').value) || 0;
      const tipAmount = parseFloat(document.getElementById('calcTip').value) || 0;

      const calculation = calculateTotalWithFees(orderAmount, tipAmount, extrasAmount);

      document.getElementById('resultOrder').textContent = orderAmount.toFixed(2) + ' ‚Ç¨';
      document.getElementById('resultExtras').textContent = extrasAmount.toFixed(2) + ' ‚Ç¨';
      document.getElementById('resultTip').textContent = tipAmount.toFixed(2) + ' ‚Ç¨';
      document.getElementById('resultSubtotal').textContent = calculation.breakdown.baseAmount.toFixed(2) + ' ‚Ç¨';
      document.getElementById('resultFees').textContent = calculation.breakdown.serviceFees.total.toFixed(2) + ' ‚Ç¨';
      document.getElementById('resultVAT').textContent = calculation.breakdown.vat.toFixed(2) + ' ‚Ç¨';
      document.getElementById('resultTotal').textContent = calculation.breakdown.totalToPay.toFixed(2) + ' ‚Ç¨';
      document.getElementById('resultMarronneur').textContent = calculation.marronneurReceives.toFixed(2) + ' ‚Ç¨';
    }

    // √âv√©nements
    document.getElementById('calcOrder').addEventListener('input', updateCalculator);
    document.getElementById('calcExtras').addEventListener('input', updateCalculator);
    document.getElementById('calcTip').addEventListener('input', updateCalculator);

    // Initialisation
    updateCalculator();
  </script>
</body>
</html>
