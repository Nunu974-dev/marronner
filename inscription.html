<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>S'inscrire ‚Äì Marronner</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="icon" href="img/favicon.png">
</head>
<body>

  <!-- HEADER -->
  <header>
    <div class="navbar container">
      <div class="logo"><a href="index.html" style="text-decoration:none;color:inherit;">Marronner</a></div>
      <nav class="menu">
        <a href="categories.html">Cat√©gories</a>
        <a href="publier-demande.html">Publier une demande</a>
        <a href="demandes.html">Demandes ouvertes</a>
        <a href="connexion.html" class="auth-link logged-out">Connexion</a>
        <a href="inscription.html" class="cta auth-link logged-out">S'inscrire</a>
        <a href="tableau-de-bord.html" class="auth-link logged-in" id="userProfileLink" style="display: none;">üë§ <span id="userTypeDisplay">Profil</span></a>
      </nav>
    </div>
  </header>

  <!-- SECTION INSCRIPTION -->
  <section class="auth-section">
    <div class="auth-container">
      <h1>Cr√©er un compte</h1>
      <p class="auth-subtitle">Rejoignez la communaut√© Marronner</p>

      <!-- Choix du type de compte -->
      <div class="user-type-selection">
        <label class="user-type-card" for="type-chercheur">
          <input type="radio" name="userType" id="type-chercheur" value="chercheur" checked>
          <div class="card-content">
            <div class="card-icon">üîç</div>
            <h3>Je suis Chercheur</h3>
            <p>Je recherche des freelances pour mes projets</p>
          </div>
        </label>

        <label class="user-type-card" for="type-marronneur">
          <input type="radio" name="userType" id="type-marronneur" value="marronneur">
          <div class="card-content">
            <div class="card-icon">‚ö°</div>
            <h3>Je suis Marronneur</h3>
            <p>Je propose mes services et comp√©tences</p>
          </div>
        </label>
      </div>

      <!-- Formulaire d'inscription -->
      <form id="signupForm" class="auth-form">
        <div class="form-row">
          <div class="form-group">
            <label for="signupFirstName">Pr√©nom *</label>
            <input type="text" id="signupFirstName" required>
          </div>

          <div class="form-group">
            <label for="signupLastName">Nom *</label>
            <input type="text" id="signupLastName" required>
          </div>
        </div>

        <input type="hidden" id="signupUserType" value="chercheur">

        <div class="form-group">
          <label for="signupEmail">Email *</label>
          <input type="email" id="signupEmail" required>
        </div>

        <div class="form-group">
          <label for="signupPhone">T√©l√©phone (optionnel)</label>
          <input type="tel" id="signupPhone" placeholder="+262 692 XX XX XX">
        </div>

        <div class="form-group">
          <label for="signupPassword">Mot de passe *</label>
          <input type="password" id="signupPassword" required>
          <div class="password-requirements">
            <div class="requirement" id="req-length">
              <span class="req-icon"></span>
              <span class="req-text">Au moins 8 caract√®res</span>
            </div>
            <div class="requirement" id="req-uppercase">
              <span class="req-icon"></span>
              <span class="req-text">Une majuscule</span>
            </div>
            <div class="requirement" id="req-lowercase">
              <span class="req-icon"></span>
              <span class="req-text">Une minuscule</span>
            </div>
            <div class="requirement" id="req-number">
              <span class="req-icon"></span>
              <span class="req-text">Un chiffre</span>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="signupPasswordConfirm">Confirmer le mot de passe *</label>
          <input type="password" id="signupPasswordConfirm" required>
        </div>

        <div class="form-group">
          <label class="checkbox-label">
            <input type="checkbox" id="signupCGU" required>
            <span>J'accepte les <a href="cgu.html" target="_blank">CGU</a> et la <a href="confidentialite.html" target="_blank">politique de confidentialit√©</a></span>
          </label>
        </div>

        <button type="submit" class="auth-btn primary">Cr√©er mon compte</button>
      </form>

      <div class="auth-divider">
        <span>ou s'inscrire avec</span>
      </div>

      <button id="googleSignupBtn" class="auth-btn google">
        <svg width="20" height="20" viewBox="0 0 20 20">
          <path fill="#4285F4" d="M19.6 10.23c0-.82-.1-1.42-.25-2.05H10v3.72h5.5c-.15.96-.74 2.31-2.04 3.22v2.45h3.16c1.89-1.73 2.98-4.3 2.98-7.34z"/>
          <path fill="#34A853" d="M13.46 15.13c-.83.59-1.96 1-3.46 1-2.64 0-4.88-1.74-5.68-4.15H1.07v2.52C2.72 17.75 6.09 20 10 20c2.7 0 4.96-.89 6.62-2.42l-3.16-2.45z"/>
          <path fill="#FBBC05" d="M3.99 10c0-.69.12-1.35.32-1.97V5.51H1.07A9.973 9.973 0 000 10c0 1.61.39 3.14 1.07 4.49l3.24-2.52c-.2-.62-.32-1.28-.32-1.97z"/>
          <path fill="#EA4335" d="M10 3.88c1.88 0 3.13.81 3.85 1.48l2.84-2.76C14.96.99 12.7 0 10 0 6.09 0 2.72 2.25 1.07 5.51l3.24 2.52C5.12 5.62 7.36 3.88 10 3.88z"/>
        </svg>
        Continuer avec Google
      </button>

      <p class="auth-footer">
        Vous avez d√©j√† un compte ? <a href="connexion.html">Se connecter</a>
      </p>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="container footer-container">
      <div class="footer-column">
        <h3>Marronner</h3>
        <p>La plateforme 100 % locale qui connecte talents et besoins √† La R√©union <img src="img/logo.jpg" alt="La R√©union" class="logo-inline">.<br>
        Trouve, propose et collabore en toute simplicit√©.</p>
      </div>

            <div class="footer-column">
        <h4>Navigation</h4>
        <ul>
          <li><a href="comment-ca-marche.html">Comment √ßa marche</a></li>
          <li><a href="faq.html">FAQ</a></li>
          <li><a href="categories.html">Cat√©gories</a></li>
          <li><a href="demandes.html">Derni√®res demandes</a></li>
        </ul>
      </div>

      <div class="footer-column">
        <h4>Pour les chercheurs</h4>
        <ul>
          <li><a href="publier-demande.html">Publier une demande</a></li>
          <li><a href="inscription.html" class="auth-link logged-out">S'inscrire</a></li>
          <li><a href="connexion.html" class="auth-link logged-out">Connexion</a></li>
        </ul>
        <h4 style="margin-top: 20px;">Pour les marronneurs</h4>
        <ul>
          <li><a href="devenir-freelance.html">Devenir marronneur</a></li>
          <li><a href="gerer-commandes.html">G√©rer ses commandes</a></li>
          <li><a href="obtenir-avis.html">Obtenir des avis</a></li>
        </ul>
      </div>

      <div class="footer-column">
        <h4>Mon compte</h4>
        <ul>
          <li><a href="tableau-de-bord.html" class="auth-link logged-in">Tableau de bord</a></li>
          <li><a href="messagerie.html" class="auth-link logged-in">Messagerie</a></li>
        </ul>
      </div>

      <div class="footer-column">
        <h4>Mon compte</h4>
        <ul>
          <li><a href="tableau-de-bord.html" class="auth-link logged-in">Tableau de bord</a></li>
          <li><a href="messagerie.html" class="auth-link logged-in">Messagerie</a></li>
        </ul>
        <h4 style="margin-top: 20px;">Informations</h4>
        <ul>
          <li><a href="cgu.html">CGU</a></li>
          <li><a href="confidentialite.html">Confidentialit√©</a></li>
          <li><a href="mentions-legales.html">Mentions l√©gales</a></li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
      </div>
    </div>

    <div class="footer-bottom">
      <p>¬© 2025 Marronner ‚Äì Tous droits r√©serv√©s.</p>
      <p>Fait avec ‚ù§Ô∏è √† La R√©union <img src="img/logo.jpg" alt="La R√©union" class="logo-inline"></p>
    </div>
  </footer>

  <!-- Supabase SDK -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="js/supabase-config.js"></script>
  <script src="js/auth.js"></script>
  <script src="js/main.js"></script>
  <script src="js/message-widget.js"></script>
  
  <script>
    // G√©rer la s√©lection du type d'utilisateur
    document.querySelectorAll('input[name="userType"]').forEach(radio => {
      radio.addEventListener('change', function() {
        document.getElementById('signupUserType').value = this.value;
        
        // Mettre √† jour le style visuel des cartes
        document.querySelectorAll('.user-type-card').forEach(card => {
          card.classList.remove('selected');
        });
        this.closest('.user-type-card').classList.add('selected');
      });
    });
    
    // S√©lectionner "chercheur" par d√©faut
    document.querySelector('.user-type-card').classList.add('selected');
  </script>
</body>
</html>
