<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Profil Marronneur ‚Äì Marronner</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="icon" href="img/favicon.png">
  
  <!-- Supabase SDK -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>

  <!-- HEADER -->
  <header>
    <div class="navbar container">
      <a href="index.html" class="logo">Marronner</a>
      <nav class="menu">
        <a href="categories.html">Cat√©gories</a>
        <a href="publier-demande.html">Publier une demande</a>
        <a href="demandes.html">Demandes ouvertes</a>
        <a href="tableau-de-bord.html" id="userProfileLink">üë§ <span id="userTypeDisplay">Chercheur</span></a>
        <a href="#" id="logoutBtn" class="cta">D√©connexion</a>
      </nav>
    </div>
  </header>

  <!-- CONTENU -->
  <section style="padding: 80px 20px 40px;">
    <div class="container" style="max-width: 1200px; margin: 0 auto;">
      
      <!-- Retour -->
      <a href="javascript:history.back()" style="display: inline-flex; align-items: center; gap: 8px; color: var(--secondary); text-decoration: none; font-weight: 600; margin-bottom: 30px;">
        ‚Üê Retour
      </a>

      <div style="display: grid; grid-template-columns: 1fr 2fr; gap: 30px; align-items: start;">
        
        <!-- COLONNE GAUCHE - Infos principales -->
        <div style="background: white; border-radius: 16px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); overflow: hidden; position: sticky; top: 100px;">
          
          <!-- Avatar et nom -->
          <div style="background: linear-gradient(135deg, var(--primary), var(--secondary)); padding: 40px 30px; text-align: center; color: white;">
            <div id="marronneurAvatar" style="width: 120px; height: 120px; background: white; border-radius: 50%; margin: 0 auto 20px; display: flex; align-items: center; justify-content: center; font-size: 3.5em; box-shadow: 0 4px 20px rgba(0,0,0,0.2);">
              üë®‚Äçüé®
            </div>
            <h1 id="marronneurName" style="margin: 0 0 10px 0; font-size: 2em; color: white;">Marie Dupont</h1>
            <p id="marronneurTitle" style="margin: 0 0 15px 0; font-size: 1.1em; opacity: 0.95; color: white;">Designer graphique</p>
            <div style="display: flex; align-items: center; justify-content: center; gap: 10px; margin-bottom: 15px;">
              <span style="color: #fbbf24; font-size: 1.3em; font-weight: 700;">‚≠ê <span id="marronneurRating">4.9</span></span>
              <span style="opacity: 0.9; color: white;">(<span id="marronneurReviews">45</span> avis)</span>
            </div>
            <div style="display: flex; gap: 8px; flex-wrap: wrap; justify-content: center;">
              <span id="topBadge" style="background: rgba(255,255,255,0.25); backdrop-filter: blur(10px); color: white; padding: 6px 14px; border-radius: 20px; font-size: 0.85em; font-weight: 600; display: inline-flex; align-items: center; gap: 5px;">
                üèÜ Top marronneur
              </span>
              <span id="verifiedBadge" style="background: rgba(16,185,129,0.9); color: white; padding: 6px 14px; border-radius: 20px; font-size: 0.85em; font-weight: 600; display: inline-flex; align-items: center; gap: 5px;">
                ‚úì V√©rifi√©
              </span>
            </div>
          </div>

          <!-- Informations cl√©s -->
          <div style="padding: 30px;">
            <div style="margin-bottom: 25px;">
              <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                <span style="font-size: 1.3em;">üìç</span>
                <span style="color: #6b7280; font-size: 0.9em;">Localisation</span>
              </div>
              <p id="marronneurLocation" style="margin: 0; font-weight: 600; color: #1f2937; margin-left: 35px;">Saint-Denis, La R√©union</p>
            </div>

            <div style="margin-bottom: 25px;">
              <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                <span style="font-size: 1.3em;">üíº</span>
                <span style="color: #6b7280; font-size: 0.9em;">Exp√©rience</span>
              </div>
              <p id="marronneurExperience" style="margin: 0; font-weight: 600; color: #1f2937; margin-left: 35px;">8+ ann√©es</p>
            </div>

            <div style="margin-bottom: 25px;">
              <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                <span style="font-size: 1.3em;">‚úÖ</span>
                <span style="color: #6b7280; font-size: 0.9em;">Projets r√©alis√©s</span>
              </div>
              <p id="marronneurProjects" style="margin: 0; font-weight: 600; color: #1f2937; margin-left: 35px;">127 projets</p>
            </div>

            <div style="margin-bottom: 25px;">
              <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                <span style="font-size: 1.3em;">‚ö°</span>
                <span style="color: #6b7280; font-size: 0.9em;">D√©lai moyen</span>
              </div>
              <p id="marronneurDelay" style="margin: 0; font-weight: 600; color: #1f2937; margin-left: 35px;">5-7 jours</p>
            </div>

            <div style="margin-bottom: 30px;">
              <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                <span style="font-size: 1.3em;">üí∞</span>
                <span style="color: #6b7280; font-size: 0.9em;">Tarif horaire</span>
              </div>
              <p id="marronneurRate" style="margin: 0; font-weight: 600; color: var(--secondary); font-size: 1.2em; margin-left: 35px;">35‚Ç¨ - 50‚Ç¨/h</p>
            </div>

            <button onclick="contactMarronneur()" style="width: 100%; padding: 14px 20px; background: linear-gradient(135deg, var(--primary), var(--secondary)); color: white; border: none; border-radius: 10px; font-weight: 600; font-size: 1.05em; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; gap: 10px; margin-bottom: 12px;">
              üí¨ Envoyer un message
            </button>

            <button onclick="addToFavorites()" style="width: 100%; padding: 14px 20px; background: white; color: var(--secondary); border: 2px solid var(--secondary); border-radius: 10px; font-weight: 600; font-size: 1.05em; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; gap: 10px;">
              ‚≠ê Ajouter aux favoris
            </button>
          </div>
        </div>

        <!-- COLONNE DROITE - D√©tails du profil -->
        <div>
          
          <!-- √Ä propos -->
          <div style="background: white; border-radius: 16px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); padding: 35px; margin-bottom: 25px;">
            <h2 style="margin: 0 0 20px 0; color: var(--primary); display: flex; align-items: center; gap: 10px;">
              <span style="font-size: 1.4em;">üë§</span>
              √Ä propos
            </h2>
            <p id="marronneurAbout" style="margin: 0; line-height: 1.8; color: #4b5563; font-size: 1.05em;">
              Designer graphique passionn√©e avec plus de 8 ans d'exp√©rience dans la cr√©ation d'identit√©s visuelles. Sp√©cialis√©e en branding, logos, et supports de communication. J'accompagne les entreprises locales de La R√©union dans le d√©veloppement de leur image de marque. Mon approche allie cr√©ativit√©, professionnalisme et √©coute attentive de vos besoins.
            </p>
          </div>

          <!-- Comp√©tences -->
          <div style="background: white; border-radius: 16px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); padding: 35px; margin-bottom: 25px;">
            <h2 style="margin: 0 0 20px 0; color: var(--primary); display: flex; align-items: center; gap: 10px;">
              <span style="font-size: 1.4em;">üéØ</span>
              Comp√©tences
            </h2>
            <div id="competencesList" style="display: flex; flex-wrap: wrap; gap: 10px;">
              <span style="background: linear-gradient(135deg, #eff6ff, #dbeafe); color: var(--secondary); padding: 10px 18px; border-radius: 25px; font-weight: 600; font-size: 0.95em; border: 1px solid #bfdbfe;">
                üé® Design graphique
              </span>
              <span style="background: linear-gradient(135deg, #eff6ff, #dbeafe); color: var(--secondary); padding: 10px 18px; border-radius: 25px; font-weight: 600; font-size: 0.95em; border: 1px solid #bfdbfe;">
                üè∑Ô∏è Branding
              </span>
              <span style="background: linear-gradient(135deg, #eff6ff, #dbeafe); color: var(--secondary); padding: 10px 18px; border-radius: 25px; font-weight: 600; font-size: 0.95em; border: 1px solid #bfdbfe;">
                ‚úèÔ∏è Cr√©ation de logos
              </span>
              <span style="background: linear-gradient(135deg, #eff6ff, #dbeafe); color: var(--secondary); padding: 10px 18px; border-radius: 25px; font-weight: 600; font-size: 0.95em; border: 1px solid #bfdbfe;">
                üìÑ Supports print
              </span>
              <span style="background: linear-gradient(135deg, #eff6ff, #dbeafe); color: var(--secondary); padding: 10px 18px; border-radius: 25px; font-weight: 600; font-size: 0.95em; border: 1px solid #bfdbfe;">
                üñ•Ô∏è Design web
              </span>
              <span style="background: linear-gradient(135deg, #eff6ff, #dbeafe); color: var(--secondary); padding: 10px 18px; border-radius: 25px; font-weight: 600; font-size: 0.95em; border: 1px solid #bfdbfe;">
                üì± R√©seaux sociaux
              </span>
              <span style="background: linear-gradient(135deg, #eff6ff, #dbeafe); color: var(--secondary); padding: 10px 18px; border-radius: 25px; font-weight: 600; font-size: 0.95em; border: 1px solid #bfdbfe;">
                üé≠ Illustration
              </span>
            </div>
          </div>

          <!-- Services propos√©s -->
          <div style="background: white; border-radius: 16px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); padding: 35px; margin-bottom: 25px;">
            <h2 style="margin: 0 0 20px 0; color: var(--primary); display: flex; align-items: center; gap: 10px;">
              <span style="font-size: 1.4em;">üì¶</span>
              Services propos√©s
            </h2>
            <div id="servicesList" style="display: grid; gap: 15px;">
              
              <div style="border: 2px solid #e5e7eb; border-radius: 12px; padding: 20px; transition: all 0.3s ease;" onmouseover="this.style.borderColor='var(--secondary)'; this.style.boxShadow='0 4px 12px rgba(37,99,235,0.1)'" onmouseout="this.style.borderColor='#e5e7eb'; this.style.boxShadow='none'">
                <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 10px;">
                  <h3 style="margin: 0; color: var(--primary); font-size: 1.15em;">üé® Cr√©ation de logo</h3>
                  <span style="color: var(--secondary); font-weight: 700; font-size: 1.2em;">√Ä partir de 150‚Ç¨</span>
                </div>
                <p style="margin: 10px 0 0 0; color: #6b7280; line-height: 1.6;">
                  Logo professionnel unique avec r√©visions illimit√©es, fichiers sources inclus (AI, PNG, SVG). D√©lai : 7-10 jours.
                </p>
              </div>

              <div style="border: 2px solid #e5e7eb; border-radius: 12px; padding: 20px; transition: all 0.3s ease;" onmouseover="this.style.borderColor='var(--secondary)'; this.style.boxShadow='0 4px 12px rgba(37,99,235,0.1)'" onmouseout="this.style.borderColor='#e5e7eb'; this.style.boxShadow='none'">
                <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 10px;">
                  <h3 style="margin: 0; color: var(--primary); font-size: 1.15em;">üè∑Ô∏è Charte graphique compl√®te</h3>
                  <span style="color: var(--secondary); font-weight: 700; font-size: 1.2em;">√Ä partir de 400‚Ç¨</span>
                </div>
                <p style="margin: 10px 0 0 0; color: #6b7280; line-height: 1.6;">
                  Identit√© visuelle compl√®te : logo, couleurs, typographies, d√©clinaisons. Guide d'utilisation inclus.
                </p>
              </div>

              <div style="border: 2px solid #e5e7eb; border-radius: 12px; padding: 20px; transition: all 0.3s ease;" onmouseover="this.style.borderColor='var(--secondary)'; this.style.boxShadow='0 4px 12px rgba(37,99,235,0.1)'" onmouseout="this.style.borderColor='#e5e7eb'; this.style.boxShadow='none'">
                <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 10px;">
                  <h3 style="margin: 0; color: var(--primary); font-size: 1.15em;">üìÑ Supports de communication</h3>
                  <span style="color: var(--secondary); font-weight: 700; font-size: 1.2em;">√Ä partir de 80‚Ç¨</span>
                </div>
                <p style="margin: 10px 0 0 0; color: #6b7280; line-height: 1.6;">
                  Flyers, affiches, cartes de visite, brochures. Design adapt√© √† vos besoins et formats d'impression.
                </p>
              </div>

            </div>
          </div>

          <!-- Portfolio / R√©alisations -->
          <div style="background: white; border-radius: 16px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); padding: 35px; margin-bottom: 25px;">
            <h2 style="margin: 0 0 20px 0; color: var(--primary); display: flex; align-items: center; gap: 10px;">
              <span style="font-size: 1.4em;">üñºÔ∏è</span>
              Portfolio
            </h2>
            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px;">
              <div style="aspect-ratio: 1; background: linear-gradient(135deg, #667eea, #764ba2); border-radius: 12px; overflow: hidden; cursor: pointer; transition: transform 0.3s ease;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                <div style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; color: white; font-size: 3em; font-weight: bold;">L</div>
              </div>
              <div style="aspect-ratio: 1; background: linear-gradient(135deg, #f093fb, #f5576c); border-radius: 12px; overflow: hidden; cursor: pointer; transition: transform 0.3s ease;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                <div style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; color: white; font-size: 3em; font-weight: bold;">O</div>
              </div>
              <div style="aspect-ratio: 1; background: linear-gradient(135deg, #4facfe, #00f2fe); border-radius: 12px; overflow: hidden; cursor: pointer; transition: transform 0.3s ease;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                <div style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; color: white; font-size: 3em; font-weight: bold;">G</div>
              </div>
              <div style="aspect-ratio: 1; background: linear-gradient(135deg, #43e97b, #38f9d7); border-radius: 12px; overflow: hidden; cursor: pointer; transition: transform 0.3s ease;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                <div style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; color: white; font-size: 3em; font-weight: bold;">O</div>
              </div>
              <div style="aspect-ratio: 1; background: linear-gradient(135deg, #fa709a, #fee140); border-radius: 12px; overflow: hidden; cursor: pointer; transition: transform 0.3s ease;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                <div style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; color: white; font-size: 3em; font-weight: bold;">S</div>
              </div>
              <div style="aspect-ratio: 1; background: linear-gradient(135deg, #30cfd0, #330867); border-radius: 12px; overflow: hidden; cursor: pointer; transition: transform 0.3s ease;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                <div style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; color: white; font-size: 3em; font-weight: bold;">+</div>
              </div>
            </div>
            <p style="margin: 20px 0 0 0; text-align: center; color: #6b7280; font-size: 0.9em;">
              Cliquez sur une image pour voir le projet en d√©tail
            </p>
          </div>

          <!-- Avis clients -->
          <div style="background: white; border-radius: 16px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); padding: 35px; margin-bottom: 25px;">
            <h2 style="margin: 0 0 25px 0; color: var(--primary); display: flex; align-items: center; gap: 10px;">
              <span style="font-size: 1.4em;">‚≠ê</span>
              Avis clients (<span id="reviewsCount">45</span>)
            </h2>

            <!-- Avis 1 -->
            <div style="border-bottom: 1px solid #e5e7eb; padding-bottom: 25px; margin-bottom: 25px;">
              <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 12px;">
                <div>
                  <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 5px;">
                    <div style="width: 45px; height: 45px; background: linear-gradient(135deg, var(--primary), var(--secondary)); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">JM</div>
                    <div>
                      <h4 style="margin: 0; color: #1f2937; font-size: 1.05em;">Jean Martin</h4>
                      <p style="margin: 0; color: #9ca3af; font-size: 0.85em;">Restaurant Le Palmier</p>
                    </div>
                  </div>
                </div>
                <div style="text-align: right;">
                  <div style="color: #f59e0b; font-weight: 600; margin-bottom: 3px;">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê 5.0</div>
                  <p style="margin: 0; color: #9ca3af; font-size: 0.8em;">Il y a 2 semaines</p>
                </div>
              </div>
              <p style="margin: 0; color: #4b5563; line-height: 1.7; font-size: 0.95em;">
                Excellente collaboration avec Marie ! Elle a su comprendre mes besoins et cr√©er un logo qui repr√©sente parfaitement l'esprit de mon restaurant. Professionnelle, √† l'√©coute et cr√©ative. Je recommande vivement ! üé®‚ú®
              </p>
            </div>

            <!-- Avis 2 -->
            <div style="border-bottom: 1px solid #e5e7eb; padding-bottom: 25px; margin-bottom: 25px;">
              <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 12px;">
                <div>
                  <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 5px;">
                    <div style="width: 45px; height: 45px; background: linear-gradient(135deg, #f59e0b, #d97706); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">SL</div>
                    <div>
                      <h4 style="margin: 0; color: #1f2937; font-size: 1.05em;">Sophie Leroy</h4>
                      <p style="margin: 0; color: #9ca3af; font-size: 0.85em;">Boutique Cr√©ole Chic</p>
                    </div>
                  </div>
                </div>
                <div style="text-align: right;">
                  <div style="color: #f59e0b; font-weight: 600; margin-bottom: 3px;">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê 5.0</div>
                  <p style="margin: 0; color: #9ca3af; font-size: 0.8em;">Il y a 1 mois</p>
                </div>
              </div>
              <p style="margin: 0; color: #4b5563; line-height: 1.7; font-size: 0.95em;">
                Marie a cr√©√© toute l'identit√© visuelle de ma boutique. Le r√©sultat d√©passe mes attentes ! Design moderne, couleurs parfaites, et elle a respect√© tous les d√©lais. Merci pour ce superbe travail ! üíØ
              </p>
            </div>

            <!-- Avis 3 -->
            <div style="padding-bottom: 5px;">
              <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 12px;">
                <div>
                  <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 5px;">
                    <div style="width: 45px; height: 45px; background: linear-gradient(135deg, #10b981, #059669); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">PR</div>
                    <div>
                      <h4 style="margin: 0; color: #1f2937; font-size: 1.05em;">Pierre Rivi√®re</h4>
                      <p style="margin: 0; color: #9ca3af; font-size: 0.85em;">Auto-entrepreneur</p>
                    </div>
                  </div>
                </div>
                <div style="text-align: right;">
                  <div style="color: #f59e0b; font-weight: 600; margin-bottom: 3px;">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê 5.0</div>
                  <p style="margin: 0; color: #9ca3af; font-size: 0.8em;">Il y a 3 mois</p>
                </div>
              </div>
              <p style="margin: 0; color: #4b5563; line-height: 1.7; font-size: 0.95em;">
                Tr√®s satisfait du logo cr√©√© par Marie. Elle a pris le temps d'√©changer, de comprendre mon activit√© et a propos√© plusieurs versions. Rapport qualit√©/prix imbattable. Je la solliciterai √† nouveau ! üëç
              </p>
            </div>

            <div style="text-align: center; margin-top: 25px;">
              <button onclick="alert('üìù Page des avis compl√®te √† venir')" style="padding: 12px 30px; background: #f3f4f6; color: #4b5563; border: none; border-radius: 8px; font-weight: 600; cursor: pointer; transition: all 0.3s ease;">
                Voir tous les avis (45)
              </button>
            </div>
          </div>

        </div>
      </div>

    </div>
  </section>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="footer-container container">
      <div class="footer-column">
        <h3>Marronner</h3>
        <p>La plateforme 100 % locale qui connecte talents et besoins √† La R√©union <img src="img/logo.jpg" alt="La R√©union" class="logo-inline">.<br>
        Trouve, propose et collabore en toute simplicit√©.</p>
      </div>

      <div class="footer-column">
        <h4>Navigation</h4>
        <ul>
          <li><a href="comment-ca-marche.html">Comment √ßa marche</a></li>
          <li><a href="faq.html">FAQ</a></li>
          <li><a href="categories.html">Cat√©gories</a></li>
          <li><a href="demandes.html">Derni√®res demandes</a></li>
        </ul>
      </div>

      <div class="footer-column">
        <h4>Pour les chercheurs</h4>
        <ul>
          <li><a href="publier-demande.html">Publier une demande</a></li>
          <li><a href="inscription.html" class="auth-link logged-out">S'inscrire</a></li>
          <li><a href="connexion.html" class="auth-link logged-out">Connexion</a></li>
        </ul>
        <h4 style="margin-top: 20px;">Pour les marronneurs</h4>
        <ul>
          <li><a href="devenir-freelance.html">Devenir marronneur</a></li>
          <li><a href="gerer-commandes.html">G√©rer ses commandes</a></li>
          <li><a href="obtenir-avis.html">Obtenir des avis</a></li>
        </ul>
      </div>

      <div class="footer-column">
        <h4>Mon compte</h4>
        <ul>
          <li><a href="tableau-de-bord.html">Tableau de bord</a></li>
          <li><a href="messagerie.html">Messagerie</a></li>
        </ul>
        <h4 style="margin-top: 20px;">Informations</h4>
        <ul>
          <li><a href="cgu.html">CGU</a></li>
          <li><a href="confidentialite.html">Confidentialit√©</a></li>
          <li><a href="mentions-legales.html">Mentions l√©gales</a></li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
      </div>
    </div>

    <div class="footer-bottom">
      <p>¬© 2025 Marronner ‚Äì Tous droits r√©serv√©s.</p>
      <p>Fait avec ‚ù§Ô∏è √† La R√©union <img src="img/logo.jpg" alt="La R√©union" class="logo-inline"></p>
    </div>
  </footer>

  <!-- SCRIPTS -->
  <script src="js/auth.js"></script>
  <script src="js/main.js"></script>
  <script>
    // Initialiser l'authentification pour le header
    document.addEventListener('DOMContentLoaded', async () => {
      try {
        const user = await getCurrentUser();
        if (user) {
          const profileResult = await getUserProfile(user.id);
          if (profileResult.success) {
            const userTypeDisplay = document.getElementById('userTypeDisplay');
            if (userTypeDisplay) {
              userTypeDisplay.textContent = profileResult.data.user_type === 'chercheur' ? 'Chercheur' : 'Marronneur';
            }
          }
        }
      } catch (error) {
        console.log('Utilisateur non connect√©');
      }
    });

    // R√©cup√©rer le nom du marronneur depuis l'URL
    const urlParams = new URLSearchParams(window.location.search);
    const marronneurName = urlParams.get('name') || 'Marie Dupont';

    // Charger les donn√©es selon le marronneur
    loadMarronneurProfile(marronneurName);

    function loadMarronneurProfile(name) {
      // Base de donn√©es fictive des marronneurs
      const marronneurs = {
        'Marie Dupont': {
          avatar: 'üë®‚Äçüé®',
          name: 'Marie Dupont',
          title: 'Designer graphique',
          rating: '4.9',
          reviews: '45',
          location: 'Saint-Denis, La R√©union',
          experience: '8+ ann√©es',
          projects: '127 projets',
          delay: '5-7 jours',
          rate: '35‚Ç¨ - 50‚Ç¨/h',
          topBadge: true,
          verified: true,
          about: "Designer graphique passionn√©e avec plus de 8 ans d'exp√©rience dans la cr√©ation d'identit√©s visuelles. Sp√©cialis√©e en branding, logos, et supports de communication. J'accompagne les entreprises locales de La R√©union dans le d√©veloppement de leur image de marque. Mon approche allie cr√©ativit√©, professionnalisme et √©coute attentive de vos besoins."
        },
        'Lucas Martin': {
          avatar: 'üé®',
          name: 'Lucas Martin',
          title: 'Illustrateur & Designer',
          rating: '4.7',
          reviews: '28',
          location: 'Saint-Pierre, La R√©union',
          experience: '5 ann√©es',
          projects: '83 projets',
          delay: '7-10 jours',
          rate: '30‚Ç¨ - 45‚Ç¨/h',
          topBadge: false,
          verified: true,
          about: "Illustrateur et designer cr√©atif sp√©cialis√© dans les identit√©s visuelles uniques. Je combine art traditionnel et outils num√©riques pour cr√©er des designs qui marquent les esprits. Passionn√© par la culture r√©unionnaise, j'int√®gre des √©l√©ments locaux dans mes cr√©ations pour un rendu authentique."
        },
        'Sophie Leroy': {
          avatar: 'üñåÔ∏è',
          name: 'Sophie Leroy',
          title: 'Directrice artistique',
          rating: '5.0',
          reviews: '12',
          location: 'Le Port, La R√©union',
          experience: '12+ ann√©es',
          projects: '95 projets',
          delay: '10-14 jours',
          rate: '50‚Ç¨ - 75‚Ç¨/h',
          topBadge: true,
          verified: true,
          about: "Directrice artistique senior avec plus de 12 ans d'exp√©rience en agence et en freelance. Mon expertise couvre la strat√©gie de marque compl√®te, du concept √† l'ex√©cution. Je propose une approche premium pour les entreprises qui souhaitent se d√©marquer avec une identit√© visuelle forte et coh√©rente sur tous les supports."
        }
      };

      const marronneur = marronneurs[name] || marronneurs['Marie Dupont'];

      // Mettre √† jour tous les √©l√©ments
      document.getElementById('marronneurAvatar').textContent = marronneur.avatar;
      document.getElementById('marronneurName').textContent = marronneur.name;
      document.getElementById('marronneurTitle').textContent = marronneur.title;
      document.getElementById('marronneurRating').textContent = marronneur.rating;
      document.getElementById('marronneurReviews').textContent = marronneur.reviews;
      document.getElementById('reviewsCount').textContent = marronneur.reviews;
      document.getElementById('marronneurLocation').textContent = marronneur.location;
      document.getElementById('marronneurExperience').textContent = marronneur.experience;
      document.getElementById('marronneurProjects').textContent = marronneur.projects;
      document.getElementById('marronneurDelay').textContent = marronneur.delay;
      document.getElementById('marronneurRate').textContent = marronneur.rate;
      document.getElementById('marronneurAbout').textContent = marronneur.about;

      // Afficher/masquer les badges
      if (!marronneur.topBadge) {
        document.getElementById('topBadge').style.display = 'none';
      }
      if (!marronneur.verified) {
        document.getElementById('verifiedBadge').style.display = 'none';
      }

      // Mettre √† jour le titre de la page
      document.title = `${marronneur.name} ‚Äì ${marronneur.title} ‚Äì Marronner`;
    }

    function contactMarronneur() {
      alert('üí¨ Redirection vers la messagerie...');
      window.location.href = 'messagerie.html';
    }

    function addToFavorites() {
      alert('‚≠ê Marronneur ajout√© √† vos favoris !');
    }

    // Animation des boutons
    document.querySelectorAll('button').forEach(btn => {
      btn.addEventListener('mouseenter', function() {
        if (this.style.background.includes('gradient')) {
          this.style.transform = 'translateY(-2px)';
          this.style.boxShadow = '0 8px 24px rgba(37, 99, 235, 0.3)';
        } else if (this.style.background === 'white') {
          this.style.background = 'var(--secondary)';
          this.style.color = 'white';
        } else if (this.style.background.includes('f3f4f6')) {
          this.style.background = '#e5e7eb';
        }
      });
      
      btn.addEventListener('mouseleave', function() {
        if (this.style.background.includes('gradient')) {
          this.style.transform = 'translateY(0)';
          this.style.boxShadow = 'none';
        } else if (this.style.color === 'white' && this.style.border) {
          this.style.background = 'white';
          this.style.color = 'var(--secondary)';
        } else if (this.style.background.includes('e5e7eb')) {
          this.style.background = '#f3f4f6';
        }
      });
    });
  </script>
</body>
</html>
